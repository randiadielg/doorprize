"use strict";(self.webpackChunkdoorprize_client=self.webpackChunkdoorprize_client||[]).push([[658],{3763:function(e,n,t){t.d(n,{O:function(){return o},c:function(){return r}});var r="http://localhost:5000",o="ws://localhost:5000/doorprize"},8005:function(e,n,t){var r=t(9439),o=t(2791),c=t(5087),a=t(3763),s=new c.w3cwebsocket(a.O);n.Z=function(e){var n=e||{},t=n.onStop,c=void 0===t?function(){}:t,a=n.onGetNumber,i=void 0===a?function(){}:a,u=(0,o.useState)(!1),f=(0,r.Z)(u,2),l=f[0],d=f[1],p=(0,o.useState)(),v=(0,r.Z)(p,2),Z=v[0],h=v[1],S=(0,o.useState)(""),m=(0,r.Z)(S,2),x=m[0],g=m[1],k=(0,o.useState)(!0),w=(0,r.Z)(k,2),y=w[0],b=w[1];return(0,o.useEffect)((function(){s.onopen=function(){b(!1),console.log("WebSocket Client Connected")},s.onmessage=function(e){var n=e.data.toString();try{if("stop"===n)d(!1),c();else{var t=JSON.parse(n),r=t.name,o=t.index;h(parseInt(o)),g(r),d(!0),i()}}catch(a){console.error(a)}},s.onclose=function(){b(!0)},s.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),s.close()}}),[c,i]),{isRandomizing:l,number:Z,name:x,isDisconnected:y}}},2836:function(e,n,t){var r=t(4165),o=t(5861),c=t(9439),a=t(2388),s=t(2791);n.Z=function(e){var n=(0,s.useState)(!1),t=(0,c.Z)(n,2),i=t[0],u=t[1],f=(0,s.useState)(null),l=(0,c.Z)(f,2),d=l[0],p=l[1],v=(0,s.useState)(null),Z=(0,c.Z)(v,2),h=Z[0],S=Z[1],m=(0,s.useCallback)((0,o.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,a.Z.get(e);case 4:t=n.sent,S(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),p(n.t0);case 11:return n.prev=11,u(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])}))),[e]);return(0,s.useEffect)((function(){m()}),[m]),{data:null===h||void 0===h?void 0:h.data,loading:i,error:d,refetch:m}}},8658:function(e,n,t){t.r(n);var r=t(4165),o=t(5861),c=t(9439),a=t(2791),s=t(2388),i=t(3763),u=t(6151),f=t(8005),l=t(2836),d=t(184);n.default=function(){var e=(0,f.Z)(),n=e.number,t=e.isRandomizing,p=e.isDisconnected,v=(0,a.useState)(150),Z=(0,c.Z)(v,2),h=Z[0],S=Z[1],m=(0,a.useState)(),x=(0,c.Z)(m,2),g=x[0],k=x[1],w=(0,l.Z)("".concat(i.c,"/items")).data,y=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(i.c,"/max"));case 2:n=e.sent,S(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){y()}),[]),(0,a.useEffect)((function(){var e;return t&&(e=setInterval((function(){k(Math.round(Math.random()*h).toString())}),10)),function(){clearInterval(e)}}),[h,t]),t?(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:g&&(0,d.jsx)(u.Z.Title,{style:{margin:0,fontSize:"200px",color:"#FFA100"},children:w[g]})}):(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:n&&(0,d.jsxs)(u.Z.Title,{style:{margin:0,fontSize:"200px",color:"#FFA100"},children:[p&&"Error",w[n]]})})}}}]);
//# sourceMappingURL=658.1ec8a037.chunk.js.map